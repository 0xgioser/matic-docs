---
id: commitments
title: ข้อผูกมัดและการทำให้เป็นโมฆะ
sidebar_label: Commitment and Nullifiers
description: "โอนแบบครั้งเดียวและแบบสองครั้ง"
keywords:
  - docs
  - polygon
  - nightfall
  - commitment
  - nullifier
image: https://matic.network/banners/matic-network-16x9.png
---


## ข้อผูกมัดคืออะไร {#what-are-commitments}
ข้อผูกมัดเป็นการเข้ารหัสดั้งเดิมที่อนุญาตให้ผู้ใช้ยอมรับค่าที่เลือกโดยซ่อนค่านั้นไว้กับผู้อื่นโดยสามารถเปิดเผยค่าที่ผูกมัดได้ในภายหลังการรักษาความลับของมูลค่าและผู้รับจะได้รับในลักษณะนี้

ทุกครั้งที่ผู้ใช้ทำธุรกรรมโดยใช้ Nightfall วอลเล็ตของเบราว์เซอร์จะคำนวณ Zero Knowledge Proof (ZKP) และสร้างข้อผูกมัด (หรือทำให้เป็นโมฆะ)ตัวอย่างเช่น คุณสร้างข้อผูกมัดเมื่อคุณทำการฝากเงินหรือโอน และทำให้ข้อผูกมัดเป็นโมฆะเมื่อคุณทำการโอนเงินหรือถอนเงิน

การคำนวณ ZKP อาศัย[วงจร](../protocol/circuits.md)ที่กำหนดกฎที่ธุรกรรมต้องปฏิบัติตามเพื่อให้ถูกต้อง

ข้อผูกมัดใช้เพื่อซ่อนคุณสมบัติต่อไปนี้:
- **ที่อยู่ ERC ของโทเค็น**
- **
รหัสโทเค็น**
- **ค่า**
- **เจ้าของ**

ข้อผูกมัดจะถูกเก็บไว้ในโครงสร้าง *Merkle Tree*รากของ *Merkle Tree* นี้ถูกเก็บไว้ในเชน

![](../imgs/commitment.png)

### UTXO {#utxo}
ข้อผูกมัดถูกสร้างขึ้นระหว่างการฝากและการโอนและถูกใช้ระหว่างการทำธุรกรรมการโอนและถอนเงิน**ข้อผูกมัดไม่ได้ถูกรวมไว้ด้วยกัน**เมื่อใช้จ่ายตามข้อผูกมัด มูลค่าของข้อผูกมัดที่ใช้ไปจะถูกจำกัดมูลค่าไม่เกินสองข้อผูกมัดที่เป็นเจ้าของ

วงจรการโอนและถอน ZKP ปัจจุบันที่ใช้ใน Nightfall ถูกจำกัดไว้ที่ 2 อินพุต - 2 เอาต์พุต (ข้อผูกพันในการโอน/ถอนและการเปลี่ยนแปลง) ไม่รวมการชำระเงินหากชุดภาระผูกมัดของผู้ทำธุรกรรมมีภาระผูกพันที่มีมูลค่าต่ำเป็นหลัก (ฝุ่น) พวกเขาอาจพบว่าเป็นการยากที่จะดำเนินการโอนในอนาคต

สังเกตชุดค่าต่อไปนี้

- **ชุด A**: [1, 1, 1, 1, 1, 1]
- **ชุด B**: [2, 2, 2]
- **ชุด C**: [2, 4]

ขณะที่ทั้งสามชุดมีผลรวมเท่ากัน การโอนมูลค่าสูงสุดที่สามารถทำธุรกรรมโดยชุด *A*, *B* และ *C* คือ 2, 4 และ 6 ตามลำดับนี่เป็นเหตุผลหนึ่งว่าทำไมจึงนิยมใช้ค่าข้อผูกมัดจำนวนมากกลยุทธ์การเลือกข้อผูกมัดที่ใช้ช่วยลดความเสี่ยงนี้โดยจัดลำดับความสำคัญของการใช้ข้อผูกมัดที่มีมูลค่าน้อยในขณะเดียวกันก็ลดการสร้างภาระผูกพันด้านฝุ่นให้น้อยที่สุด


## การทำให้เป็นโมฆะคืออะไร {#what-are-nullifiers}
**การทำให้เป็นโมฆะ**คือผลลัพธ์ของการรวมข้อผูกมัดและคีย์การทำให้เป็นโมฆะ (nullifier)เนื่องจากการทำให้เป็นโมฆะถูกออกอากาศแบบ on-chain การผูกมัดจะถือว่าถูกใช้ไปการทำให้เป็นโมฆะถูกเก็บไว้ในเชนเป็นส่วนหนึ่งของข้อมูลการโทรระหว่างข้อเสนอการบล็อก

![](../imgs/nullifier.png)




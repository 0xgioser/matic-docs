---
id: nightfall-wallet
title: Кошелек Nightfall
sidebar: Nightfall Wallet
description: "Руководство по кошельку Polygon Nightfall."
keywords:
  - docs
  - matic
  - polygon
  - nightfall
  - wallet
image: https://matic.network/banners/matic-network-16x9.png

---

Кошелек Polygon Nightfall — это кошелек в браузере, который может взаимодействовать с
бета-версией Nightfall mainnet.

:::info Используйте кошелек Nightfall для совершения депозитов, трансферов и выводов

### Ограничения {#restrictions}

До достижения Nightfall зрелого состояния применяются следующие ограничения:


| Токен ERC20 | Макс. депозит | Макс. вывод |
|-------------|-------------|--------------|
| MATIC | 250 MATIC | 1000 MATIC |
| WETH | 0,25 WETH | 1 WETH |
| DAI | 250 DAI | 1000 DAI |
| USDT | 250 USDT | 1000 USDT |
| USDC | 250 USDC | 1000 USDC |

:::

:::caution Меры безопасности

Кошелек Nightfall тестируется в браузере Chrome. Во время бета-тестирования цифры могут отличаться в других
браузерах.

**Мы настоятельно рекомендуем использовать Nightfall в Chrome**.

:::



## Начало работы {#getting-started}

Перейдите в [веб-кошелек mainnet](https://wallet-beta.polygon.technology) или
[веб-кошелек тестовой сети](https://wallet.testnet.polygon-nightfall.technology/) в Polygon, подключите свой аккаунт MetaMask
и выберите в левой части кошелек Polygon. Если вам понадобится помощь по использованию MetaMask, ознакомьтесь с
[документацией по Polygon, касающейся MetaMask](../../develop/metamask/tutorial-metamask.md).

![](../imgs/tools-wallet/polygon-wallet-click-nf.png)

В этот момент кошелек подскажет вам переключиться на сеть Polygon, при этом появится всплывающее окно Metamask
с запросом на подтверждение переключения.

![](../imgs/tools-wallet/polygon-network.png)

Затем, в верхнем разделе кошелька щелкните кнопкой мыши в раскрывающемся меню и выберите `Polygon Nightfall`, при этом
появится новый запрос на переключение на Ethereum Mainnet. Примите переключение на Ethereum mainnet,
чтобы работать с Polygon Nightfall.

![](../imgs/tools-wallet/polygon-network-dropdown-nf.png)

Если вы работаете в тестовой сети, то URL кошелька немедленно перенаправит вас на страницу назначения кошелька Polygon Nightfall.

![](../imgs/tools-wallet/wallet-main-screen.png)

При первом посещении должен быть создан ваш кошелек Nightfall. Должно появиться всплывающее окно для генерации мнемонической фразы и создания кошелька. Нажмите `Generate Mnemonic`, затем `Create Wallet`. **Обратите внимание, что вы можете использовать этот кошелек только на своем текущем устройстве**.

![](../imgs/tools-wallet/generate-mnemonic-create-wallet.png)

:::caution Создайте резервные копии своих обязательств и мнемонических фраз

Ваши ключи кошелька и транзакции хранятся в браузере (IndexedDb). Точно так же, как мнемоническая фраза, установленная вами при первом доступе к кошельку Nightfall.

Обязательно сохраните эту мнемоническую фразу в каком-нибудь безопасном месте. Это единственный способ иметь возможность производить доказательства, совместимые с вашими средствами на втором уровне. То же самое происходит с вашими обязательствами: обязательно сохраняйте их безопасным образом, нажимая `export commitments` всякий раз, когда вы используете другой браузер или другое устройство.

:::

**Если вы потеряете свои обязательства, ваши средства будут безвозвратно утрачены**


В этот момент вы должны быть способны видеть адреса ваших кошельков Metamask и Nightfall (в верхнем правом углу).

**Подождите несколько минут до завершения настройки кошелька, прежде чем начнете совершать транзакции**.

В нижнем левом углу кошелька отобразится статус кошелька как `Syncing Nightfall`. В этом состоянии кошелек извлекает
схемы ZK и состояние сети, необходимые для выполнения транзакций.

![](../imgs/tools-wallet/wallet-state-syncing.png)

Подождите, пока статус кошелька не изменится на `Nightfall Synced`

![](../imgs/tools-wallet/wallet-state-synced.png)


## Как подключить аппаратный кошелек Ledger к Nightfall {#how-to-connect-a-ledger-hardware-wallet-to-nightfall}
Существует руководство по подключению аппаратного кошелька Ledger с помощью MetaMask, которое размещено на официальном сайте Metamask [здесь](https://support.ledger.com/hc/en-us/articles/4404366864657-How-to-access-your-Ledger-Ethereum-ETH-account-via-Metamask?docs=true).

Обязательно подключите приложение Ethereum в вашем кошельке и включите «слепое подписание» в настройках приложения Ethereum.


### Адрес вашего кошелька {#your-wallet-address}
Получите адрес своего кошелька Nightfall со страницы Nightfall Assets (Активы Nightfall), нажав `Receive`.

![](../imgs/tools-wallet/nightfall-wallet-address.png)

## Как делать депозиты {#how-to-make-deposits}
На странице Nightfall Assets (Активы Nightfall) нажмите кнопку `Deposit` справа от выбранного актива или перейдите на страницу L2 Bridge (Мост второго уровня).

1. Убедитесь, что режим трансфера установлен в положение `Deposit`
2. Убедитесь, что выбран требуемый токен (WETH, MATIC и т. д.)
3. Введите значение, подлежащее внесению на депозит в ваш кошелек Nightfall, нажмите `Transfer`
4. Просмотрите транзакцию во всплывающем окне
5. Нажмите `Create Transaction`

![](../imgs/tools-wallet/deposit-click-transfer.png)

Начнется процесс вычисления ZKP и подготовки транзакции — предоставьте Metamask доступ к остаткам на вашем аккаунте. По завершении этого процесса нажмите `Send Transaction` — предоставьте Metamask дополнительные права для взаимодействия по контракту.

![](../imgs/tools-wallet/deposit-tx-created-and-ready-to-be-sent.png)

Перейдите на страницу Transactions (Транзакции), чтобы [посмотреть свой депозит](#view-transactions).

### Важная информация о депозитах {#important-information-about-deposits}
- [Суммы депозитов ограничены](#note-the-following-deposit-and-withdrawal-restrictions) в период бета-тестирования

## Как совершать трансферы {#how-to-make-transfers}
На странице Nightfall Assets (Активы Nightfall) нажмите кнопку `Send` справа от выбранного актива.

1. Введите действительный адрес, существующий в Polygon Nightfall второго уровня
2. Убедитесь, что выбран требуемый токен (WETH, MATIC и т. д.)
3. Введите значение, подлежащее трансферу из вашего кошелька Nightfall, нажмите `Continue`

![](../imgs/tools-wallet/send-nf.png)

Начнется процесс вычисления ZKP и подготовки транзакции. По его завершении нажмите `Send Transaction`.

Перейдите на страницу Transactions (Транзакции), чтобы [посмотреть свой трансфер](#view-transactions).

### Важная информация о трансферах {#important-information-about-transfers}
Текущие схемы трансфера с ZKP, используемые в Nightfall, ограничивают суммы трансферов либо точным соответствием значению одного из
существующих обязательств, либо любой линейной комбинацией двух существующих обязательств.

В качестве наглядного примера ограничений трансферов, отметьте следующие наборы обязательств:

- Набор A: [1, 1, 1, 1, 1, 1]
- Набор B: [2, 2, 2]
- Набор C: [2, 4]

Хотя все три набора имеют эквивалентные общие суммы, равные шести, доступны только следующие трансферы:

- Набор A: любой трансфер между 0 и 2 (оба исключаются)
- Набор B: любой трансфер между 0 и 4 (оба исключаются)
- Набор C: любой трансфер между 0 и 6 (оба исключаются)

В продолжение примера, если Алекс владеет набором C обязательств, доступные трансферы включают любое количество между 0 и 6, исключая оба крайних значения. Если Алекс решит перевести 3,5 Бобу, у Алекса в итоге останется единственное обязательство, равное 2,5, а Боб получит обязательство на 3,5, когда будет предложен блок.

С другой стороны, если Алекс решит перевести Бобу количество, равное 6, доказательство с нулевым разглашением потерпит неудачу, потому что не будет действительной комбинации обязательств.

**Важно отметить, что эти значения представляют принадлежащие обязательства**, а не, скажем, депозиты. Дополнительная информация приводится в разделе настоящей документации, посвященном [обязательствам](../protocol/commitments.md).

## Как совершать выводы {#how-to-make-withdrawals}
На странице Nightfall Assets (Активы Nightfall) нажмите кнопку `Withdraw` справа от выбранного актива или перейдите на страницу L2 Bridge (Мост второго уровня).

1. Убедитесь, что режим трансфера установлен в положение `Withdraw`
2. Убедитесь, что выбран требуемый токен (WETH, MATIC и т. д.)
3. Введите значение, выводимое из вашего кошелька Nightfall, нажмите `Transfer`
4. Просмотрите транзакцию во всплывающем окне
5. Нажмите `Create Transaction`

Начнется процесс вычисления ZKP и подготовки транзакции. По его завершении нажмите `Send Transaction`.

Перейдите на страницу Transactions (Транзакции), чтобы [посмотреть свой вывод](#view-transactions). По истечении недельного периода финализации пользователь
сможет финализировать выведенное количество и претендовать на него.

### Важная информация о выводах {#important-information-about-withdrawals}
- Значение вывода должно точно соответствовать количеству в одном из принадлежащих обязательств (подробнее об [обязательствах](#learn-about-commitments))
- Период финализации выводов составляет **одну неделю** с момента создания блока, включающего транзакцию вывода. По истечении этого периода времени вы можете финализировать вывод, чтобы отправить свои средства на ваш аккаунт Ethereum.
- [Выводимые количества ограничены](#note-the-following-deposit-and-withdrawal-restrictions) в период бета-тестирования
- Выводы — это транзакции в цепочке, и они предусматривают выплату комиссии за газ во время заявки на транзакцию, а также при финализации вывода.

![](../imgs/tools-wallet/cooling-off-vs-ready.png)

## Просмотр транзакций {#view-transactions}
Проверьте статус ваших депозитов, трансферов и выводов на странице Transactions (Транзакции). Обратите внимание, что каждая транзакция обрабатывается, как только будет достаточно транзакций для производства блока, или по прошествии 6 часов.

![](../imgs/tools-wallet/transactions.png)
